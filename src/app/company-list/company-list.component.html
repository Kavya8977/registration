<app-header></app-header>

  <div class="row" >
    <div class="col">
      <app-navbar></app-navbar>
    </div>
<div class="container">
<div class="card mt-2 p-3 mb-1 bg-body rounded">
  <div class="card-body container-fluid">
      <h5 class="card-title">Company List:</h5>
      <button type="button" class="btn btn-secondary mb-3" *ngIf="isAdmin">
          <a class="navbar-brand" href="#" routerLink="/create-company" routerLinkActive="active">
              <i class="fa-solid fa-circle-plus"></i>&nbsp;Add New
          </a>
        </button>&nbsp;&nbsp;
     
      <div class="table-responsive">
          <div class="card">
              <div class="card-body">
                  <nav class="navbar navbar-light bg-light">
                      <div class="container-fluid">
                          <a class="navbar-brand"></a>
                          <form class="d-flex w-100">
                              <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" [(ngModel)]="searchQuery" name="search">
                              <button class="btn btn-outline-success" type="submit">Search</button>
                          </form>
                      </div>
                  </nav>
                  <div class="table-responsive">
                  <table class="table table-sm table-bordered table-hover">
                      <thead class="table-dark text-center">
                          <tr>
                              <th>CompanyName</th>
                              <th>ContactNumber</th>
                              <th>EmailId</th>
                              <th>Active</th>
                              <th *ngIf="isAdmin">Edit</th>
                              <th *ngIf="isAdmin">Delete</th>
                              <th>View</th>
                          </tr>
                      </thead>
                      <tbody>
                          <tr *ngFor="let company of company | filter:searchQuery">
                              <td>{{ company.cName }}</td>
                              <td>{{ company.contactNumber }}</td>
                              <td>{{ company.eMail }}</td>
                              <td>{{ company.active }}</td>
                              <td class="text-center" *ngIf="isAdmin">
                                  <button (click)="updateCompanyInfo(company.cId)" class="btn btn-primary ml-2">
                                      <i class="fa-regular fa-eye-slash"></i>
                                      Edit
                                  </button>
                              </td>
                              <td class="text-center" *ngIf="isAdmin">
                                  <button (click)="deletedetails(company.cId)" class="btn btn-danger ml-2">
                                      <i class="fa-regular fa-eye-slash"></i>
                                      Delete
                                  </button>
                              </td>
                              <td class="text-center">
                                  <button (click)="companyDetails(company.cId)" class="btn btn-info ml-2">
                                      <i class="fa-regular fa-eye-slash"></i>
                                      View
                                  </button>
                              </td>
                          </tr>
                      </tbody>
                  </table>
                </div>
              </div>
          </div>
      </div>
  </div>
</div>
</div>